import{_ as S,r as g,u as x,c as M,o as e,a as o,b as a,F as p,d as y,n as k,t as l,e as d,f as i,w as V,B as I,g as C,h as $,i as N}from"./index-D3L_PKQr.js";const j={class:"card__wrapper"},z=["onClick"],A={class:"card__text-wrapper"},E={class:"card__title"},F={key:0,class:"card__description"},T={key:1,class:"card__description"},W={class:"card__pay-wrapper"},D={key:0,class:"modal__container"},H=["src"],L={key:1,class:"carousel-img",src:"http://localhost:3000/photos/default.jpg"},P={class:"modal__info-wrapper"},U={key:0},q={key:1},G={key:2},J={__name:"productCard",props:{data:Array},setup(f){const _=g(!1),t=g([]),r=c=>{t.value=c,_.value=!0},w=x(),u=c=>{w.addToCart(c)},b=M(()=>{const c=window.innerWidth;let n="30%",h="90vh";return c<1100&&(n="40%"),c<900&&(n="50%"),c<768&&(n="80%"),{width:n,height:h}});return(c,n)=>{const h=$("n-carousel"),B=$("n-modal");return e(),o(p,null,[a("div",j,[(e(!0),o(p,null,y(f.data,s=>(e(),o("article",{class:"card",key:s.id,onClick:v=>r(s)},[a("div",{class:"card__img",style:k({backgroundImage:"url(http://localhost:3000/photos/"+(s.photos.length?s.photos[0]:"default.jpg")+")"})},null,4),a("div",A,[a("h3",E,l(s.name),1),s.description?(e(),o("p",F,l(s.description),1)):d("",!0),s.description?d("",!0):(e(),o("p",T,l(s.structure),1))]),a("div",W,[a("span",null,l(s.price)+"₽",1),i(I,{onClick:V(v=>u(s),["stop"]),title:"В корзину"},null,8,["onClick"])])],8,z))),128))]),i(B,{show:_.value,"onUpdate:show":n[0]||(n[0]=s=>_.value=s),class:"custom-card",preset:"card",style:k(b.value),title:t.value.name,bordered:!1,size:"small"},{default:C(()=>[t.value?(e(),o("div",D,[i(h,{"show-arrow":"",class:"carousel"},{default:C(()=>[t.value.photos.length?(e(!0),o(p,{key:0},y(t.value.photos,(s,v)=>(e(),o("img",{key:v,class:"carousel-img",src:"http://localhost:3000/photos/"+s},null,8,H))),128)):d("",!0),t.value.photos.length?d("",!0):(e(),o("img",L))]),_:1}),a("div",P,[t.value.description?(e(),o("p",U,l(t.value.description),1)):(e(),o("p",q,l(t.value.structure),1)),t.value.composition?(e(),o("p",G," Состав: "+l(t.value.composition),1)):d("",!0)])])):d("",!0)]),_:1},8,["show","style","title"])],64)}}},m=S(J,[["__scopeId","data-v-d841005b"]]),K={class:"page__container"},O=a("h1",{class:"page__title"},"КАТАЛОГ",-1),Q={class:"section"},R=a("h2",{class:"section__catalog-title"},"Рецепты",-1),X={class:"section"},Y=a("h2",{class:"section__catalog-title"},"Боксы",-1),Z={class:"section__catalog-title"},st={__name:"CatalogView",setup(f){const _=x(),t=g([]);return N(async()=>{try{const r=await _.getAllProduct();t.value=r}catch(r){console.error("Error fetching products:",r)}}),(r,w)=>(e(),o("div",K,[O,a("section",Q,[R,i(m,{data:t.value.recipes},null,8,["data"])]),a("section",X,[Y,i(m,{data:t.value.boxes},null,8,["data"])]),(e(!0),o(p,null,y(t.value.productsBySections,u=>(e(),o("section",{class:"section",key:u.section_name},[a("h2",Z,l(u.section_name),1),i(m,{data:u.products},null,8,["data"])]))),128))]))}};export{st as default};

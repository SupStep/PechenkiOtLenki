import{_ as $,r as g,u as S,c as V,o as s,a as o,b as a,F as h,d as w,n as f,t as n,e as i,f as _,w as M,B as j,g as C,h as b,i as N,p as z,j as A}from"./index-zmH8b4zp.js";const E={class:"card__wrapper"},F=["onClick"],T={class:"card__text-wrapper"},W={class:"card__title"},D={key:0,class:"card__description"},L={key:1,class:"card__description"},P={class:"card__pay-wrapper"},U={key:0,class:"modal__container"},q=["src"],G={key:1,class:"carousel-img",src:"https://supstep-serverpechenki-db33.twc1.net/photos/default.jpg"},H={class:"modal__info-wrapper"},J={key:0},K={key:1},O={key:2},Q={__name:"productCard",props:{data:Array},setup(l){const p=g(!1),t=g([]),d=c=>{t.value=c,p.value=!0},k=S(),u=c=>{k.addToCart(c)},x=V(()=>{const c=window.innerWidth;let r="30%";return c<1100&&(r="40%"),c<900&&(r="50%"),c<768&&(r="80%"),c<425&&(r="95%"),{width:r}});return(c,r)=>{const I=b("n-carousel"),B=b("n-modal");return s(),o(h,null,[a("div",E,[(s(!0),o(h,null,w(l.data,e=>(s(),o("article",{class:"card",key:e.id,onClick:v=>d(e)},[a("div",{class:"card__img",style:f({backgroundImage:"url(https://supstep-serverpechenki-db33.twc1.net/photos/"+(e.photos.length?e.photos[0]:"default.jpg")+")"})},null,4),a("div",T,[a("h3",W,n(e.name),1),e.description?(s(),o("p",D,n(e.description),1)):i("",!0),e.description?i("",!0):(s(),o("p",L,n(e.structure),1))]),a("div",P,[a("span",null,n(e.price)+"₽",1),_(j,{onClick:M(v=>u(e),["stop"]),title:"В корзину"},null,8,["onClick"])])],8,F))),128))]),_(B,{show:p.value,"onUpdate:show":r[0]||(r[0]=e=>p.value=e),class:"custom-card",preset:"card",style:f(x.value),title:t.value.name,bordered:!1,size:"small"},{default:C(()=>[t.value?(s(),o("div",U,[_(I,{"show-arrow":"",class:"carousel"},{default:C(()=>[t.value.photos.length?(s(!0),o(h,{key:0},w(t.value.photos,(e,v)=>(s(),o("img",{key:v,class:"carousel-img",src:"https://supstep-serverpechenki-db33.twc1.net/photos/"+e},null,8,q))),128)):i("",!0),t.value.photos.length?i("",!0):(s(),o("img",G))]),_:1}),a("div",H,[t.value.description?(s(),o("p",J,n(t.value.description),1)):(s(),o("p",K,n(t.value.structure),1)),t.value.composition?(s(),o("p",O," Состав: "+n(t.value.composition),1)):i("",!0),a("p",null,"Цена: "+n(t.value.price),1)])])):i("",!0)]),_:1},8,["show","style","title"])],64)}}},m=$(Q,[["__scopeId","data-v-61c2c898"]]),y=l=>(z("data-v-b43debdc"),l=l(),A(),l),R={class:"page__container"},X=y(()=>a("h1",{class:"page__title"},"КАТАЛОГ",-1)),Y={class:"section"},Z=y(()=>a("h2",{class:"section__catalog-title"},"Рецепты",-1)),tt={class:"section"},et=y(()=>a("h2",{class:"section__catalog-title"},"Боксы",-1)),st={class:"section__catalog-title"},ot={__name:"CatalogView",setup(l){const p=S(),t=g([]);return N(async()=>{try{const d=await p.getAllProduct();t.value=d}catch(d){console.error("Error fetching products:",d)}}),(d,k)=>(s(),o("div",R,[X,a("section",Y,[Z,_(m,{data:t.value.recipes},null,8,["data"])]),a("section",tt,[et,_(m,{data:t.value.boxes},null,8,["data"])]),(s(!0),o(h,null,w(t.value.productsBySections,u=>(s(),o("section",{class:"section",key:u.section_name},[a("h2",st,n(u.section_name),1),_(m,{data:u.products},null,8,["data"])]))),128))]))}},ct=$(ot,[["__scopeId","data-v-b43debdc"]]);export{ct as default};

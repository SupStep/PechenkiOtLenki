import{_ as C,u as V,d as f,r as x,o as n,c as r,a as e,F as B,f as S,y as w,t as _,z as u,A as p,h as g,B as I,v as D,x as E}from"./index-CJep6T-l.js";const i=c=>(D("data-v-f863a089"),c=c(),E(),c),F={class:"page__container"},N=i(()=>e("h1",{class:"page__title"},"Корзина",-1)),U={key:0,class:"cart__message"},b={key:1},O=i(()=>e("p",{class:"page__message"}," Важно! Выдача товара осуществляется в ручном режиме. После того как вы добавите интересующие товары в корзину, заполните персональные данные и оставьте заявку на покупку, мы свяжемся с вами для уточнения деталей, проведения оплаты и согласования сроков выполнения заказа. ",-1)),P={class:"cart__container"},z={class:"cart__item-list"},A=i(()=>e("h2",null,"Товары",-1)),L={class:"cart__total"},M={class:"cart__item-list"},T=i(()=>e("h2",null,"Персональные данные",-1)),$={__name:"CartView",setup(c){const o=V(),d=f(()=>o.cartItems.length>0),a=x({name:"",email:"",phone:""}),m=o.cartItems,v=f(()=>o.cartItems.reduce((l,t)=>l+t.price,0)),y=l=>{const t=o.cartItems[l];o.removeFromCart(t)},k=()=>{if(!d.value)return;const l={name:a.value.name,email:a.value.email,phone:a.value.phone,items:m,totalPrice:v.value};o.sendOrder(l).then(()=>{alert("Заявка успешно отправлена!"),o.clearCart(),a.value={name:"",email:"",phone:""}}).catch(t=>{console.error("Error sending message:",t),alert("Ошибка при отправке заявки")})};return(l,t)=>(n(),r("div",F,[N,d.value?(n(),r("div",b,[O,e("div",P,[e("div",z,[A,(n(!0),r(B,null,S(w(m),(s,h)=>(n(),r("div",{class:"cart__item",key:h},[e("p",null,_(s.name)+" - "+_(s.price)+"₽",1),g(I,{onClick:j=>y(h),title:"Удалить"},null,8,["onClick"])]))),128)),e("div",L,[e("p",null,"Итог: "+_(v.value)+"₽",1)])]),e("div",M,[T,u(e("input",{class:"cart__item-input","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name=s),type:"text",placeholder:"Имя"},null,512),[[p,a.value.name]]),u(e("input",{class:"cart__item-input","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.phone=s),type:"tel",placeholder:"Телефон"},null,512),[[p,a.value.phone]]),u(e("input",{class:"cart__item-input","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.email=s),type:"email",placeholder:"Почта"},null,512),[[p,a.value.email]]),g(I,{onClick:k,class:"cart__button",title:"Отправить заявку"})])])])):(n(),r("span",U,"Корзина пуста"))]))}},G=C($,[["__scopeId","data-v-f863a089"]]);export{G as default};

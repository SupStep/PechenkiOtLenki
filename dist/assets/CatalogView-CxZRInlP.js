import{_ as $,r as m,u as S,c as V,o as s,a as o,b as a,F as h,d as w,n as f,t as r,e as i,f as _,w as M,B as j,g as b,h as C,i as N,p as z,j as A}from"./index-DnCSBB91.js";const E={class:"card__wrapper"},F=["onClick"],T={class:"card__text-wrapper"},W={class:"card__title"},D={key:0,class:"card__description"},H={key:1,class:"card__description"},L={class:"card__pay-wrapper"},P={key:0,class:"modal__container"},U=["src"],q={key:1,class:"carousel-img",src:"https://supstep-serverpechenki-db33.twc1.net/photos/default.jpg"},G={class:"modal__info-wrapper"},J={key:0},K={key:1},O={key:2},Q={__name:"productCard",props:{data:Array},setup(l){const p=m(!1),t=m([]),d=c=>{t.value=c,p.value=!0},k=S(),u=c=>{k.addToCart(c)},x=V(()=>{const c=window.innerWidth;let n="30%";return c<1100&&(n="40%"),c<900&&(n="50%"),c<768&&(n="80%"),c<425&&(n="95%"),{width:n,height:modalHeight}});return(c,n)=>{const I=C("n-carousel"),B=C("n-modal");return s(),o(h,null,[a("div",E,[(s(!0),o(h,null,w(l.data,e=>(s(),o("article",{class:"card",key:e.id,onClick:v=>d(e)},[a("div",{class:"card__img",style:f({backgroundImage:"url(https://supstep-serverpechenki-db33.twc1.net/photos/"+(e.photos.length?e.photos[0]:"default.jpg")+")"})},null,4),a("div",T,[a("h3",W,r(e.name),1),e.description?(s(),o("p",D,r(e.description),1)):i("",!0),e.description?i("",!0):(s(),o("p",H,r(e.structure),1))]),a("div",L,[a("span",null,r(e.price)+"₽",1),_(j,{onClick:M(v=>u(e),["stop"]),title:"В корзину"},null,8,["onClick"])])],8,F))),128))]),_(B,{show:p.value,"onUpdate:show":n[0]||(n[0]=e=>p.value=e),class:"custom-card",preset:"card",style:f(x.value),title:t.value.name,bordered:!1,size:"small"},{default:b(()=>[t.value?(s(),o("div",P,[_(I,{"show-arrow":"",class:"carousel"},{default:b(()=>[t.value.photos.length?(s(!0),o(h,{key:0},w(t.value.photos,(e,v)=>(s(),o("img",{key:v,class:"carousel-img",src:"https://supstep-serverpechenki-db33.twc1.net/photos/"+e},null,8,U))),128)):i("",!0),t.value.photos.length?i("",!0):(s(),o("img",q))]),_:1}),a("div",G,[t.value.description?(s(),o("p",J,r(t.value.description),1)):(s(),o("p",K,r(t.value.structure),1)),t.value.composition?(s(),o("p",O," Состав: "+r(t.value.composition),1)):i("",!0)])])):i("",!0)]),_:1},8,["show","style","title"])],64)}}},g=$(Q,[["__scopeId","data-v-b8e8a40a"]]),y=l=>(z("data-v-b43debdc"),l=l(),A(),l),R={class:"page__container"},X=y(()=>a("h1",{class:"page__title"},"КАТАЛОГ",-1)),Y={class:"section"},Z=y(()=>a("h2",{class:"section__catalog-title"},"Рецепты",-1)),tt={class:"section"},et=y(()=>a("h2",{class:"section__catalog-title"},"Боксы",-1)),st={class:"section__catalog-title"},ot={__name:"CatalogView",setup(l){const p=S(),t=m([]);return N(async()=>{try{const d=await p.getAllProduct();t.value=d}catch(d){console.error("Error fetching products:",d)}}),(d,k)=>(s(),o("div",R,[X,a("section",Y,[Z,_(g,{data:t.value.recipes},null,8,["data"])]),a("section",tt,[et,_(g,{data:t.value.boxes},null,8,["data"])]),(s(!0),o(h,null,w(t.value.productsBySections,u=>(s(),o("section",{class:"section",key:u.section_name},[a("h2",st,r(u.section_name),1),_(g,{data:u.products},null,8,["data"])]))),128))]))}},ct=$(ot,[["__scopeId","data-v-b43debdc"]]);export{ct as default};

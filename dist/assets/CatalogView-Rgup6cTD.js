import{_ as S,r as y,u as x,c as V,o as e,a as o,b as a,F as h,d as w,n as C,t as l,e as _,f as i,w as M,B as j,g as b,h as $,i as N,p as z,j as A}from"./index-DFsFdwXl.js";const E={class:"card__wrapper"},F=["onClick"],T={class:"card__text-wrapper"},W={class:"card__title"},D={key:0,class:"card__description"},H={key:1,class:"card__description"},L={class:"card__pay-wrapper"},P={key:0,class:"modal__container"},U=["src"],q={key:1,class:"carousel-img",src:"http://localhost:3000/photos/default.jpg"},G={class:"modal__info-wrapper"},J={key:0},K={key:1},O={key:2},Q={__name:"productCard",props:{data:Array},setup(r){const u=y(!1),t=y([]),d=c=>{t.value=c,u.value=!0},k=x(),p=c=>{k.addToCart(c)},I=V(()=>{const c=window.innerWidth;let n="30%",v="90vh";return c<1100&&(n="40%"),c<900&&(n="50%"),c<768&&(n="80%"),{width:n,height:v}});return(c,n)=>{const v=$("n-carousel"),B=$("n-modal");return e(),o(h,null,[a("div",E,[(e(!0),o(h,null,w(r.data,s=>(e(),o("article",{class:"card",key:s.id,onClick:g=>d(s)},[a("div",{class:"card__img",style:C({backgroundImage:"url(http://localhost:3000/photos/"+(s.photos.length?s.photos[0]:"default.jpg")+")"})},null,4),a("div",T,[a("h3",W,l(s.name),1),s.description?(e(),o("p",D,l(s.description),1)):_("",!0),s.description?_("",!0):(e(),o("p",H,l(s.structure),1))]),a("div",L,[a("span",null,l(s.price)+"₽",1),i(j,{onClick:M(g=>p(s),["stop"]),title:"В корзину"},null,8,["onClick"])])],8,F))),128))]),i(B,{show:u.value,"onUpdate:show":n[0]||(n[0]=s=>u.value=s),class:"custom-card",preset:"card",style:C(I.value),title:t.value.name,bordered:!1,size:"small"},{default:b(()=>[t.value?(e(),o("div",P,[i(v,{"show-arrow":"",class:"carousel"},{default:b(()=>[t.value.photos.length?(e(!0),o(h,{key:0},w(t.value.photos,(s,g)=>(e(),o("img",{key:g,class:"carousel-img",src:"http://localhost:3000/photos/"+s},null,8,U))),128)):_("",!0),t.value.photos.length?_("",!0):(e(),o("img",q))]),_:1}),a("div",G,[t.value.description?(e(),o("p",J,l(t.value.description),1)):(e(),o("p",K,l(t.value.structure),1)),t.value.composition?(e(),o("p",O," Состав: "+l(t.value.composition),1)):_("",!0)])])):_("",!0)]),_:1},8,["show","style","title"])],64)}}},m=S(Q,[["__scopeId","data-v-d841005b"]]),f=r=>(z("data-v-b43debdc"),r=r(),A(),r),R={class:"page__container"},X=f(()=>a("h1",{class:"page__title"},"КАТАЛОГ",-1)),Y={class:"section"},Z=f(()=>a("h2",{class:"section__catalog-title"},"Рецепты",-1)),tt={class:"section"},st=f(()=>a("h2",{class:"section__catalog-title"},"Боксы",-1)),et={class:"section__catalog-title"},ot={__name:"CatalogView",setup(r){const u=x(),t=y([]);return N(async()=>{try{const d=await u.getAllProduct();t.value=d}catch(d){console.error("Error fetching products:",d)}}),(d,k)=>(e(),o("div",R,[X,a("section",Y,[Z,i(m,{data:t.value.recipes},null,8,["data"])]),a("section",tt,[st,i(m,{data:t.value.boxes},null,8,["data"])]),(e(!0),o(h,null,w(t.value.productsBySections,p=>(e(),o("section",{class:"section",key:p.section_name},[a("h2",et,l(p.section_name),1),i(m,{data:p.products},null,8,["data"])]))),128))]))}},ct=S(ot,[["__scopeId","data-v-b43debdc"]]);export{ct as default};
